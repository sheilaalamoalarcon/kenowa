---
import { getSession } from "auth-astro/server";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import { PostType } from "@/Components/MyPosts.astro";
import FeedLayout from "@/Layouts/FeedLayout.astro";

const session = await getSession(Astro.request);
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

if (!session) {
  return Astro.redirect("/");
}
export const prerender = false;

const flexIconRectBaseProps = {
  width: "25",
  height: "14",
  rx: "2",
  x: "0",
  class: "fill-stone-200",
};
const flexIconFirstRectProps = {
  ...flexIconRectBaseProps,
  y: "0",
};
const flexIconSecondRectProps = {
  ...flexIconRectBaseProps,
  y: "20",
};

/*Grid Style Preference */
const gridIconSvgProps = {
  width: "35",
  height: "35",
};

const gridIconSquareBaseProps = {
  y: "0",
  width: "14",
  height: "14",
  rx: "2",
  class: "fill-stone-200",
};
const gridIconSecondLineSquareBaseProps = {
  width: "14",
  height: "14",
  rx: "2",
  class: "fill-stone-200",
  y: "20",
};
---

<FeedLayout
  pageTitle={`${session?.user?.name} Profile`}
  type={PostType.USER}
  headerTitle={t("profile.post.title")}
/>
